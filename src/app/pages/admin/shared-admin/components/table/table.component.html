<table class="table">
  <thead>
    <tr class="row">
      <th class="column" (click)="sort(key)" *ngFor="let key of keys">
        <span
          [ngClass]="{
            'sort-asc': sortKey === key && sortDirection === 'asc',
            'sort-desc': sortKey === key && sortDirection === 'desc'
          }"
        >
          {{ capitalizeFirstLetter(key) }}
        </span>
      </th>
      <th class="column" (click)="add.emit()">
        <button type="button" class="btn-circle">+</button>Add
      </th>
    </tr>
  </thead>
  <tbody>
    <tr class="row" *ngFor="let item of data">
      <td class="column" *ngFor="let key of keys" [ngSwitch]="key">
        <span *ngSwitchCase="'price'">{{ item[key] | currencyPipe }}</span>
        <span *ngSwitchCase="'created'">{{ item[key] | date }}</span>
        <span *ngSwitchCase="'id'">
          <ng-container *ngIf="item[key].length > 5; else elseTemplate">
            {{ item[key].substring(0, 5) }}
          </ng-container>
          <ng-template #elseTemplate>
            {{ item[key] }}
          </ng-template>
        </span>
        <span *ngSwitchDefault>{{ item[key] }}</span>
      </td>
      <td class="column">
        <button type="button" class="btn-circle" (click)="this.edit.emit(item)">
          &#9998;
        </button>
        <button
          type="button"
          class="btn-circle"
          (click)="this.delete.emit(item)"
        >
          &#10007;
        </button>
      </td>
    </tr>
  </tbody>
</table>

<mat-paginator
  [length]="totalNumberOfItems"
  [pageSize]="pageSize"
  [pageIndex]="pageIndex"
  [hidePageSize]="hidePageSize"
  [showFirstLastButtons]="showFirstLastButtons"
  (page)="changePage($event)"
>
</mat-paginator>
